<section class="body-section">
  <div class="header">Transcript</div>
  <div class="search-area">
    <button class="plo" [routerLink]="['/plo-progress']">
      <!-- <i class="material-icons">stacked_line_chart</i> -->
      <p>PLO Progress</p>
    </button>
    <span>
      <input placeholder="ค้นหา" /><i class="material-icons">search</i>
    </span>
    <select>
      <option disabled>จัดเรียง</option>
      <option>Competency Level</option>
      <option>จำนวนวิชา</option>
      <option>ใหม่ที่สุด</option>
      <option>เก่าที่สุด</option>
    </select>
  </div>
  <div class="data-list">
    <div
      *ngFor="let item of value.earn_lo; let i = index"
      class="list"
      [routerLink]="['/transcript-detail/' + item.id]"
    >
      <div class="name">
        <p>
          {{ "PLO" + (i + 1) + " " + item.name_en }}
        </p>
        <span> {{ item.name_th }}</span>
      </div>
      <div class="detail">
        <div>
          <p>Earned in</p>
          <span>{{ item.course.length }} courses</span>
        </div>
        <div>
          <p>Competency Level</p>
          <span>
            <!-- percent bar -->
            <div class="level-bar">
              <div class="full-bar">
                <div
                  class="percent-bar"
                  [ngClass]="getAverage(item.course) >= 80 ? 'gold' : 'silver'"
                  [ngStyle]="{ width: getAverage(item.course) + '%' }"
                >
                  {{ getAverage(item.course) }}%
                </div>
              </div>
              <div class="percent-level">
                <p
                  [ngClass]="getAverage(item.course) >= 80 ? 'gold' : 'silver'"
                >
                  {{ getCompetencyLevel(getAverage(item.course)) }}
                </p>
              </div>
            </div>
          </span>
        </div>
      </div>
    </div>
  </div>
</section>
